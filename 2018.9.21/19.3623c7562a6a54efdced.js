webpackJsonp([19],{1668:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(69),s=r(n),c=a(331),p=r(c),u=a(83),o=r(u),d=a(112),i=a(330),l=a(90);t.default=(0,o.default)(d.pageModel,{namespace:"agentlist",state:{pageSize:200,page:1,loading:!1},subscriptions:{},effects:{query:s.default.mark(function e(t,a){var r,n,c,u,o=(t.payload,a.call,a.put),d=a.select;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d(function(e){return e.mainapp});case 3:if(r=e.sent,n=r.eosClient,c=r.eosAccount,n&&c){e.next=8;break}return e.abrupt("return");case 8:if(c==l.contractname||l.adminname.includes(c)){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,o({type:"updatedata",payload:{loading:!0}});case 12:return e.next=14,n.getTableRows(!0,l.contractname,l.contractname,"agentlist");case 14:if(!(u=e.sent)){e.next=18;break}return e.next=18,o({type:"updatedata",payload:{loading:!1,myitems:u.rows,totalItems:u.rows.length}});case 18:e.next=25;break;case 20:return e.prev=20,e.t0=e.catch(0),e.next=24,o({type:"updatedata",payload:{loading:!1}});case 24:(0,i.msgError)("\u83b7\u53d6\u6570\u636e\u5931\u8d25,\u9519\u8bef\u4ee3\u7801:"+(0,p.default)(e.t0));case 25:case"end":return e.stop()}},e,this,[[0,20]])}),delete:s.default.mark(function e(t,a){var r,n=t.payload,c=a.call,p=a.put;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c(Topicdelete,{myappid:n.myappid,id:n.id});case 3:if(!(r=e.sent)){e.next=7;break}return e.next=7,p({type:"dosuccess",payload:{myappid:n.myappid}});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),(0,i.msgError)(e.t0.message);case 12:case"end":return e.stop()}},e,this,[[0,9]])}),upstatus:s.default.mark(function e(t,a){var r,n=t.payload,c=a.call,p=a.put;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c(Topicupstatus,n);case 3:if(!(r=e.sent)){e.next=7;break}return e.next=7,p({type:"dosuccess",payload:{myappid:n.myappid}});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),(0,i.msgError)(e.t0.message);case 12:case"end":return e.stop()}},e,this,[[0,9]])}),upistop:s.default.mark(function e(t,a){var r,n=t.payload,c=a.call,p=a.put;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c(Topicupistop,n);case 3:if(!(r=e.sent)){e.next=7;break}return e.next=7,p({type:"dosuccess",payload:{myappid:n.myappid}});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),(0,i.msgError)(e.t0.message);case 12:case"end":return e.stop()}},e,this,[[0,9]])}),upcate:s.default.mark(function e(t,a){var r,n=t.payload,c=a.call,p=a.put;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c(Topicupcate,n);case 3:if(!(r=e.sent)){e.next=7;break}return e.next=7,p({type:"dosuccess",payload:{myappid:n.myappid}});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),(0,i.msgError)(e.t0.message);case 12:case"end":return e.stop()}},e,this,[[0,9]])}),dosuccess:s.default.mark(function e(t,a){var r,n=t.payload,c=(a.call,a.put),p=a.select;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(0,i.msgSuccess)(),e.next=3,p(function(e){return e.agentlist.pageSize});case 3:return r=e.sent,e.next=6,c({type:"setdata",payload:{}});case 6:return e.next=8,c({type:"query",payload:{myappid:n.myappid,pageSize:r,page:1}});case 8:case"end":return e.stop()}},e,this)}),setdata:s.default.mark(function e(t,a){var r=(t.payload,a.call,a.put);a.select;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r({type:"updatedata",payload:{showmodal:!1,selecteditem:[],querystr:{}}});case 2:case"end":return e.stop()}},e,this)})}}),e.exports=t.default}});